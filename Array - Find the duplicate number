/*
https://leetcode.com/problems/find-the-duplicate-number/
Input: [1,3,4,2,2]
Output: 2
Input: [3,1,3,4,2]
Output: 3
You must not modify the array (assume the array is read only).
You must use only constant, O(1) extra space.
*/
class Solution {
    // if you could modify an array nlogn through sorting 
    // or 
    // you put number in their respective places  just like you rotate an array 2nd solution: https://leetcode.com/problems/rotate-array/
    // and then the array will be sorted and then you can find the number O(N)
    
    /* 
    Let's say n=10 and I select mid=5. Then I count all the numbers in the array which are less than equal mid. 
    If the there are more than 5 numbers that are less than 5, one of them has occurred more than once.
    n*log(n)
    */
    public int findDuplicate(int[] nums) {
        int low=1, high=nums.length-1;
        while(low<high){            
            int mid=(low+high)/2;
            int count=0;
            for(int i=0; i<nums.length; i++){
                if(nums[i]<=mid){
                    count++;
                }                                
            }
            
            if(count<=mid){
                low = mid+1;
            } else {
                high = mid;
            }                                    
        }
        
        return high;
    }
}
